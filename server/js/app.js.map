{"version":3,"file":"app.js","sourceRoot":"","sources":["../app.ts"],"names":[],"mappings":"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","sourcesContent":["import express from 'express';\r\nimport { Request, Response, Application } from 'express';\r\nimport puppiesArr from './puppies';\r\nconst cors = require('cors')\r\n// import cors from 'cors'\r\n\r\nconst app: Application = express();\r\napp.use(express.json());\r\napp.use(cors({credentials: true}))\r\n\r\ninterface PupiesInformation {\r\n  id: string;\r\n  breed: string;\r\n  name: string;\r\n  birthdate: string;\r\n}\r\nconst nextId = (puppiesArr: PupiesInformation []) => {\r\n  const highID = puppiesArr.length + 1;\r\n  return highID.toString();\r\n}\r\napp.get('/api/test', (_req: Request, res: Response) => {\r\n  return res.status(200).json({ test: 'is working as it should' });\r\n});\r\n\r\napp.get('/api/puppies', (_req: Request, res: Response) => {\r\n  return res.status(200).json(puppiesArr);\r\n});\r\n\r\napp.get('/api/puppies/:id', (req: Request, res: Response) => {\r\n  const id= req.params.id;\r\n  const puppy = puppiesArr.find((p) => p.id === id);\r\n  return res.status(200).json(puppy);\r\n});\r\n\r\napp.post('/api/puppies', (req: Request, res: Response) => {\r\n  const id = nextId(puppiesArr);\r\n\r\n  const puppy: PupiesInformation = req.body;\r\n  const newPuppy = {...puppy, id};\r\n  puppiesArr.push(newPuppy);\r\n  return res.status(201).json(newPuppy);\r\n});\r\n\r\napp.put('/api/puppies/:id', (req: Request, res: Response) => {\r\n  const id = req.params.id;\r\n  const updatedPuppy = puppiesArr.find((p) => p.id === id);\r\n  if (updatedPuppy) {\r\n    const { id, breed, name, birthdate } = req.body;\r\n    updatedPuppy.name = name;\r\n    updatedPuppy.id = id;\r\n    updatedPuppy.breed = breed;\r\n    updatedPuppy.birthdate = birthdate;\r\n  }\r\n  return res.status(201).json(updatedPuppy);\r\n});\r\n\r\napp.delete('/api/puppies/:id', (req: Request, res: Response) => {\r\n  const id = req.params.id;\r\n\r\n  const deletedPuppy = puppiesArr.find((p) => p.id === id);\r\n  if (deletedPuppy) {\r\n    const index = puppiesArr.indexOf(deletedPuppy);\r\n    puppiesArr.splice(index, 1);\r\n  }\r\n  console.log(deletedPuppy, 'deleted puppy');\r\n  return res.status(204).json({ \"message\": \"Puppy is gone\" });\r\n});\r\n\r\nexport default app;\r\n"]}